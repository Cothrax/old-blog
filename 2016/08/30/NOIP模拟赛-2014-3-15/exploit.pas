uses math;
type int=longint;
var 
	n,w,i:int;
	k,c:double;
	a,t:array[0..100010] of int;
	f:array[0..100010] of double;

begin
	assign(input,'exploit.in');reset(input);
	assign(output,'exploit.out');rewrite(output);
	read(n,k,c,w);
	k:=(100-k)/100;c:=(100+c)/100;
	for i:=1 to n do read(t[i],a[i]);
	f[n+1]:=0;
	for i:=n downto 1 do
		if t[i]=1 then 
			f[i]:=max(f[i+1],f[i+1]*k+a[i])
		else 
			f[i]:=max(f[i+1],f[i+1]*c-a[i]);
	write(f[1]*w:0:2);
	close(input);close(output);
end.
